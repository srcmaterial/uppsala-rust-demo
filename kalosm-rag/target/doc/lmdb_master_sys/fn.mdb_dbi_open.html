<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Open a database in the environment."><title>mdb_dbi_open in lmdb_master_sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-916cea96.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="lmdb_master_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.87.0 (17067e9ac 2025-05-09)" data-channel="1.87.0" data-search-js="search-e7298875.js" data-settings-js="settings-d72f25bb.js" ><script src="../static.files/storage-82c7156e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-fb8c74a8.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../lmdb_master_sys/index.html">lmdb_<wbr>master_<wbr>sys</a><span class="version">0.2.5</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">mdb_<wbr>dbi_<wbr>open</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#arguments" title="Arguments">Arguments</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate lmdb_<wbr>master_<wbr>sys</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">lmdb_master_sys</a></div><h1>Function <span class="fn">mdb_dbi_open</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/lmdb_master_sys/bindings.rs.html#330-335">Source</a> </span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn mdb_dbi_open(
    txn: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*mut </a><a class="struct" href="struct.MDB_txn.html" title="struct lmdb_master_sys::MDB_txn">MDB_txn</a>,
    name: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*const </a><a class="type" href="../libc/primitives/type.c_char.html" title="type libc::primitives::c_char">c_char</a>,
    flags: <a class="type" href="../libc/primitives/type.c_uint.html" title="type libc::primitives::c_uint">c_uint</a>,
    dbi: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*mut </a><a class="type" href="type.MDB_dbi.html" title="type lmdb_master_sys::MDB_dbi">MDB_dbi</a>,
) -&gt; <a class="type" href="../libc/primitives/type.c_int.html" title="type libc::primitives::c_int">c_int</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Open a database in the environment.</p>
<p>A database handle denotes the name and parameters of a database,
independently of whether such a database exists.
The database handle may be discarded by calling #mdb_dbi_close().
The old database handle is returned if the database was already open.
The handle may only be closed once.</p>
<p>The database handle will be private to the current transaction until
the transaction is successfully committed. If the transaction is
aborted the handle will be closed automatically.
After a successful commit the handle will reside in the shared
environment, and may be used by other transactions.</p>
<p>This function must not be called from multiple concurrent
transactions in the same process. A transaction that uses
this function must finish (either commit or abort) before
any other transaction in the process may use this function.</p>
<p>To use named databases (with name != NULL), #mdb_env_set_maxdbs()
must be called before opening the environment. Database names are
keys in the unnamed database, and may be read but not written.</p>
<h2 id="arguments"><a class="doc-anchor" href="#arguments">§</a>Arguments</h2>
<ul>
<li><code>txn</code> (direction in) - A transaction handle returned by #mdb_txn_begin()</li>
<li><code>name</code> (direction in) - The name of the database to open. If only a single
database is needed in the environment, this value may be NULL.</li>
<li><code>flags</code> (direction in) - Special options for this database. This parameter
must be set to 0 or by bitwise OR’ing together one or more of the
values described here.</li>
</ul>
 <ul>
	<li>#MDB_REVERSEKEY
		Keys are strings to be compared in reverse order, from the end
		of the strings to the beginning. By default, Keys are treated as strings and
		compared from beginning to end.
	<li>#MDB_DUPSORT
		Duplicate keys may be used in the database. (Or, from another perspective,
		keys may have multiple data items, stored in sorted order.) By default
		keys must be unique and may have only a single data item.
	<li>#MDB_INTEGERKEY
		Keys are binary integers in native byte order, either unsigned int
		or #mdb_size_t, and will be sorted as such.
		(lmdb expects 32-bit int <= size_t <= 32/64-bit mdb_size_t.)
		The keys must all be of the same size.
	<li>#MDB_DUPFIXED
		This flag may only be used in combination with #MDB_DUPSORT. This option
		tells the library that the data items for this database are all the same
		size, which allows further optimizations in storage and retrieval. When
		all data items are the same size, the #MDB_GET_MULTIPLE, #MDB_NEXT_MULTIPLE
		and #MDB_PREV_MULTIPLE cursor operations may be used to retrieve multiple
		items at once.
	<li>#MDB_INTEGERDUP
		This option specifies that duplicate data items are binary integers,
		similar to #MDB_INTEGERKEY keys.
	<li>#MDB_REVERSEDUP
		This option specifies that duplicate data items should be compared as
		strings in reverse order.
	<li>#MDB_CREATE
		Create the named database if it doesn't exist. This option is not
		allowed in a read-only transaction or a read-only environment.
 </ul>
 * `dbi` (direction out) - Address where the new #MDB_dbi handle will be stored
 # Returns
<p>A non-zero error value on failure and 0 on success. Some possible
errors are:</p>
 <ul>
	<li>#MDB_NOTFOUND - the specified database doesn't exist in the environment
		and #MDB_CREATE was not specified.
	<li>#MDB_DBS_FULL - too many databases have been opened. See #mdb_env_set_maxdbs().
 </ul></div></details></section></div></main></body></html>