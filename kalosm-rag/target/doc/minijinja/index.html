<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="MiniJinja is a powerful but minimal dependency template engine for Rust which is based on the syntax and behavior of the Jinja2 template engine for Python.  It’s implemented on top of `serde`.  The goal is to be able to render a large chunk of the Jinja2 template ecosystem from Rust with a minimal engine and to leverage an already existing ecosystem of editor integrations."><title>minijinja - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-916cea96.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="minijinja" data-themes="" data-resource-suffix="" data-rustdoc-version="1.87.0 (17067e9ac 2025-05-09)" data-channel="1.87.0" data-search-js="search-e7298875.js" data-settings-js="settings-d72f25bb.js" ><script src="../static.files/storage-82c7156e.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-fb8c74a8.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../minijinja/index.html"><img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../minijinja/index.html"><img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></a><h2><a href="../minijinja/index.html">minijinja</a><span class="version">2.10.2</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#why-minijinja" title="Why MiniJinja">Why MiniJinja</a></li><li><a href="#template-usage" title="Template Usage">Template Usage</a></li><li><a href="#expression-usage" title="Expression Usage">Expression Usage</a></li><li><a href="#custom-filters" title="Custom Filters">Custom Filters</a></li><li><a href="#learn-more" title="Learn more">Learn more</a></li><li><a href="#error-handling" title="Error Handling">Error Handling</a></li><li><a href="#size-and-compile-times" title="Size and Compile Times">Size and Compile Times</a></li><li><a href="#optional-features" title="Optional Features">Optional Features</a></li></ul><h3><a href="#reexports">Crate Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#macros" title="Macros">Macros</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>minijinja</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/minijinja/lib.rs.html#1-280">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><div align=center>
  <img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo.png" alt="" width=320>
  <p><strong>MiniJinja: a powerful template engine for Rust with minimal dependencies</strong></p>
</div>
<p>MiniJinja is a powerful but minimal dependency template engine for Rust which
is based on the syntax and behavior of the
<a href="https://jinja.palletsprojects.com/">Jinja2</a> template engine for Python.  It’s
implemented on top of <a href="../serde/index.html" title="mod serde"><code>serde</code></a>.  The goal is to be able to render a large
chunk of the Jinja2 template ecosystem from Rust with a minimal engine and to
leverage an already existing ecosystem of editor integrations.</p>
<div class="example-wrap"><pre class="language-jinja"><code>{% for user in users %}
  &lt;li&gt;{{ user.name }}&lt;/li&gt;
{% endfor %}</code></pre></div>
<p>You can play with MiniJinja online <a href="https://mitsuhiko.github.io/minijinja-playground/">in the browser
playground</a> powered by a
WASM build of MiniJinja.</p>
<h2 id="why-minijinja"><a class="doc-anchor" href="#why-minijinja">§</a>Why MiniJinja</h2>
<p>MiniJinja by its name wants to be a good default choice if you need a little
bit of templating with minimal dependencies.  It has the following goals:</p>
<ul>
<li>Well documented, compact API</li>
<li>Minimal dependencies, reasonable compile times and decent runtime performance</li>
<li>Stay close as possible to Jinja2</li>
<li>Support for expression evaluation</li>
<li>Support for all <code>serde</code> compatible types</li>
<li>Excellent test coverage</li>
<li>Support for dynamic runtime objects with methods and dynamic attributes</li>
</ul>
<h2 id="template-usage"><a class="doc-anchor" href="#template-usage">§</a>Template Usage</h2>
<p>To use MiniJinja one needs to create an <a href="struct.Environment.html" title="struct minijinja::Environment"><code>Environment</code></a> and populate it with
templates.  Afterwards templates can be loaded and rendered.  To pass data
one can pass any serde serializable value.  The <a href="macro.context.html" title="macro minijinja::context"><code>context!</code></a> macro can be
used to quickly construct a template context:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>minijinja::{Environment, context};

<span class="kw">let </span><span class="kw-2">mut </span>env = Environment::new();
env.add_template(<span class="string">"hello"</span>, <span class="string">"Hello {{ name }}!"</span>).unwrap();
<span class="kw">let </span>tmpl = env.get_template(<span class="string">"hello"</span>).unwrap();
<span class="macro">println!</span>(<span class="string">"{}"</span>, tmpl.render(<span class="macro">context!</span>(name =&gt; <span class="string">"John"</span>)).unwrap());</code></pre></div>
<div class="example-wrap"><pre class="language-plain"><code>Hello John!</code></pre></div>
<p>For super trivial cases where you need to render a string once, you can
also use the <a href="macro.render.html" title="macro minijinja::render"><code>render!</code></a> macro which acts a bit like a replacement
for the <a href="https://doc.rust-lang.org/1.87.0/alloc/macro.format.html" title="macro alloc::format"><code>format!</code></a> macro.</p>
<h2 id="expression-usage"><a class="doc-anchor" href="#expression-usage">§</a>Expression Usage</h2>
<p>MiniJinja — like Jinja2 — allows to be used as expression language.  This can be
useful to express logic in configuration files or similar things.  For this
purpose the <a href="struct.Environment.html#method.compile_expression" title="method minijinja::Environment::compile_expression"><code>Environment::compile_expression</code></a> method can be used.  It returns
an expression object that can then be evaluated, returning the result:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>minijinja::{Environment, context};

<span class="kw">let </span>env = Environment::new();
<span class="kw">let </span>expr = env.compile_expression(<span class="string">"number &lt; 42"</span>).unwrap();
<span class="kw">let </span>result = expr.eval(<span class="macro">context!</span>(number =&gt; <span class="number">23</span>)).unwrap();
<span class="macro">assert_eq!</span>(result.is_true(), <span class="bool-val">true</span>);</code></pre></div>
<p>This becomes particularly powerful when <a href="value/trait.Object.html" title="trait minijinja::value::Object">dynamic objects</a> are
exposed to templates.</p>
<h2 id="custom-filters"><a class="doc-anchor" href="#custom-filters">§</a>Custom Filters</h2>
<p>MiniJinja lets you register functions as filter functions (see
<a href="functions/trait.Function.html" title="trait minijinja::functions::Function"><code>Function</code></a>) with the engine.  These can then be
invoked directly from the template:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>minijinja::{Environment, context};

<span class="kw">let </span><span class="kw-2">mut </span>env = Environment::new();
env.add_filter(<span class="string">"repeat"</span>, str::repeat);
env.add_template(<span class="string">"hello"</span>, <span class="string">"{{ 'Na '|repeat(3) }} {{ name }}!"</span>).unwrap();
<span class="kw">let </span>tmpl = env.get_template(<span class="string">"hello"</span>).unwrap();
<span class="macro">println!</span>(<span class="string">"{}"</span>, tmpl.render(<span class="macro">context!</span>(name =&gt; <span class="string">"Batman"</span>)).unwrap());</code></pre></div>
<div class="example-wrap"><pre class="language-plain"><code>Na Na Na Batman!</code></pre></div><h2 id="learn-more"><a class="doc-anchor" href="#learn-more">§</a>Learn more</h2>
<ul>
<li><a href="struct.Environment.html" title="struct minijinja::Environment"><code>Environment</code></a>: the main API entry point.  Teaches you how to configure the environment.</li>
<li><a href="struct.Template.html" title="struct minijinja::Template"><code>Template</code></a>: the template object API.  Shows you how templates can be rendered.</li>
<li><a href="syntax/index.html" title="mod minijinja::syntax"><code>syntax</code></a>: provides documentation of the template engine syntax.</li>
<li><a href="filters/index.html" title="mod minijinja::filters"><code>filters</code></a>: teaches you how to write custom filters and to see the list of built-in filters.</li>
<li><a href="tests/index.html" title="mod minijinja::tests"><code>tests</code></a>: teaches you how to write custom test functions and to see the list of built-in tests.</li>
<li><a href="functions/index.html" title="mod minijinja::functions"><code>functions</code></a>: teaches how to write custom functions and to see the list of built-in functions.</li>
<li>For auto reloading use the <a href="https://docs.rs/minijinja-autoreload"><code>minijinja-autoreload</code></a> crate.</li>
<li>For simpler embedding of templates use the <a href="https://docs.rs/minijinja-embed"><code>minijinja-embed</code></a> crate.</li>
</ul>
<p>Additionally there is an <a href="https://github.com/mitsuhiko/minijinja/tree/main/examples">list of examples</a>
with many different small example programs on GitHub to explore.</p>
<h2 id="error-handling"><a class="doc-anchor" href="#error-handling">§</a>Error Handling</h2>
<p>MiniJinja tries to give you good errors out of the box.  However if you use includes or
template inheritance your experience will improve greatly if you ensure to render chained
errors.  For more information see <a href="struct.Error.html" title="struct minijinja::Error"><code>Error</code></a> with an example.</p>
<h2 id="size-and-compile-times"><a class="doc-anchor" href="#size-and-compile-times">§</a>Size and Compile Times</h2>
<p>MiniJinja attempts to compile fast so it can be used as a sensible template engine choice
when compile times matter.  Because of this it’s internally modular so unnecessary bits and
pieces can be removed.  The default set of features tries to strike a balance but in
situations where only a subset is needed (eg: <code>build.rs</code>) all default features can be
be disabled.</p>
<h2 id="optional-features"><a class="doc-anchor" href="#optional-features">§</a>Optional Features</h2>
<p>MiniJinja comes with a lot of optional features, some of which are turned on by
default.  If you plan on using MiniJinja in a library, please consider turning
off all default features and to opt-in explicitly into the ones you actually
need.</p>
<details><summary><strong style="cursor: pointer">Configurable Features</strong></summary>
<p>To cut down on size of the engine some default functionality can be removed:</p>
<ul>
<li>
<p><strong>Engine Features:</strong></p>
<ul>
<li><code>builtins</code>: if this feature is removed the default filters, tests and
functions are not implemented.</li>
<li><code>macros</code>: when removed the <code>{% macro %}</code> tag is not included.</li>
<li><code>multi_template</code>: when removed the templates related to imports and extends
are removed (<code>{% from %}</code>, <code>{% import %}</code>, <code>{% include %}</code>, and <code>{% extends %}</code>
as well as <code>{% block %}</code>).</li>
<li><code>adjacent_loop_items</code>: when removed the <code>previtem</code> and <code>nextitem</code> attributes of
the <code>loop</code> object no longer exist.  Removing this feature can provide faster
template execution when a lot of loops are involved.</li>
<li><code>unicode</code>: when added unicode identifiers are supported and the <code>sort</code>
filter’s case insensitive comparison changes to using unicode and not
ASCII rules.  Without this features only ASCII identifiers can be used
for variable names and attributes.</li>
<li><code>serde</code>: enables or disables serde support.  In current versions of MiniJinja
it’s not possible to disable serde but it will become possible.  To prevent
breakage, MiniJinja warns if this feature is disabled.</li>
</ul>
</li>
<li>
<p><strong>Rust Functionality:</strong></p>
<ul>
<li><code>debug</code>: if this feature is removed some debug functionality of the engine is
removed as well.  This mainly affects the quality of error reporting.</li>
<li><code>deserialization</code>: when removed this disables deserialization support for
the <a href="value/struct.Value.html" title="struct minijinja::value::Value"><code>Value</code></a> type, removes the <code>ViaDeserialize</code> type and the error type
no longer implements <code>serde::de::Error</code>.</li>
<li><code>std_collections</code>: if this feature is removed some <a href="value/trait.Object.html" title="trait minijinja::value::Object"><code>Object</code></a>
implementations for standard library collections are removed.  Only the
ones needed for the engine to function itself are retained.</li>
</ul>
</li>
</ul>
<p>There are some additional features that provide extra functionality:</p>
<ul>
<li><code>fuel</code>: enables the <code>fuel</code> feature which makes the engine track fuel consumption which
can be used to better protect against expensive templates.</li>
<li><code>loader</code>: enables owned and dynamic template loading of templates.</li>
<li><code>custom_syntax</code>: when this feature is enabled, custom delimiters are supported by
the parser.</li>
<li><code>preserve_order</code>: When enable the internal value implementation uses an indexmap
which preserves the original order of maps and structs.</li>
<li><code>json</code>: When enabled the <code>tojson</code> filter is added as builtin filter as well as
the ability to auto escape via <code>AutoEscape::Json</code>.</li>
<li><code>urlencode</code>: When enabled the <code>urlencode</code> filter is added as builtin filter.</li>
<li><code>loop_controls</code>: enables the <code>{% break %}</code> and <code>{% continue %}</code> loop control flow
tags.</li>
</ul>
<p>Performance and memory related features:</p>
<ul>
<li><code>stacker</code>: enables automatic stack growth which permits much larger levels of recursion
at runtime.  This does not affect the maximum recursion at parsing time which is always
limited.</li>
<li><code>speedups</code>: enables all speedups, in particular it turns on the <code>v_htmlescape</code> dependency
for faster HTML escaping.</li>
</ul>
<p>Internals:</p>
<ul>
<li><code>unstable_machinery</code>: exposes an unstable internal API (no semver guarantees) to parse
templates and interact with the engine internals.  If you need this functionality, please
leave some feedback on GitHub.</li>
</ul>
</details></div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><dl class="item-table reexports"><dt id="reexport.Value"><code>pub use self::value::<a class="struct" href="value/struct.Value.html" title="struct minijinja::value::Value">Value</a>;</code></dt></dl><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="filters/index.html" title="mod minijinja::filters">filters</a></dt><dd>Filter functions and abstractions.</dd><dt><a class="mod" href="functions/index.html" title="mod minijinja::functions">functions</a></dt><dd>Global functions and abstractions.</dd><dt><a class="mod" href="syntax/index.html" title="mod minijinja::syntax">syntax</a></dt><dd>Documents the syntax for templates.</dd><dt><a class="mod" href="tests/index.html" title="mod minijinja::tests">tests</a></dt><dd>Test functions and abstractions.</dd><dt><a class="mod" href="value/index.html" title="mod minijinja::value">value</a></dt><dd>Provides a dynamic value type abstraction.</dd></dl><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><dl class="item-table"><dt><a class="macro" href="macro.args.html" title="macro minijinja::args">args</a></dt><dd>An utility macro to create arguments for function calls.</dd><dt><a class="macro" href="macro.context.html" title="macro minijinja::context">context</a></dt><dd>Creates a template context from keys and values or merging in another value.</dd><dt><a class="macro" href="macro.render.html" title="macro minijinja::render">render</a></dt><dd>A macro similar to <a href="https://doc.rust-lang.org/1.87.0/alloc/macro.format.html" title="macro alloc::format"><code>format!</code></a> but that uses MiniJinja for rendering.</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Environment.html" title="struct minijinja::Environment">Environment</a></dt><dd>An abstraction that holds the engine configuration.</dd><dt><a class="struct" href="struct.Error.html" title="struct minijinja::Error">Error</a></dt><dd>Represents template errors.</dd><dt><a class="struct" href="struct.Expression.html" title="struct minijinja::Expression">Expression</a></dt><dd>A handle to a compiled expression.</dd><dt><a class="struct" href="struct.HtmlEscape.html" title="struct minijinja::HtmlEscape">Html<wbr>Escape</a></dt><dd>Helper to HTML escape a string.</dd><dt><a class="struct" href="struct.Output.html" title="struct minijinja::Output">Output</a></dt><dd>An abstraction over <a href="https://doc.rust-lang.org/1.87.0/core/fmt/trait.Write.html" title="trait core::fmt::Write"><code>fmt::Write</code></a> for the rendering.</dd><dt><a class="struct" href="struct.State.html" title="struct minijinja::State">State</a></dt><dd>Provides access to the current execution state of the engine.</dd><dt><a class="struct" href="struct.Template.html" title="struct minijinja::Template">Template</a></dt><dd>Represents a handle to a template.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.AutoEscape.html" title="enum minijinja::AutoEscape">Auto<wbr>Escape</a></dt><dd>Controls the autoescaping behavior.</dd><dt><a class="enum" href="enum.ErrorKind.html" title="enum minijinja::ErrorKind">Error<wbr>Kind</a></dt><dd>An enum describing the error kind.</dd><dt><a class="enum" href="enum.UndefinedBehavior.html" title="enum minijinja::UndefinedBehavior">Undefined<wbr>Behavior</a></dt><dd>Defines the behavior of undefined values in the engine.</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.default_auto_escape_callback.html" title="fn minijinja::default_auto_escape_callback">default_<wbr>auto_<wbr>escape_<wbr>callback</a></dt><dd>The default logic for auto escaping based on file extension.</dd><dt><a class="fn" href="fn.escape_formatter.html" title="fn minijinja::escape_formatter">escape_<wbr>formatter</a></dt><dd>The default formatter.</dd><dt><a class="fn" href="fn.path_loader.html" title="fn minijinja::path_loader">path_<wbr>loader</a></dt><dd>Helper to load templates from a given directory.</dd></dl></section></div></main></body></html>