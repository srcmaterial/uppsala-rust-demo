<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="`heed` is a high-level wrapper of LMDB."><title>heed - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-916cea96.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="heed" data-themes="" data-resource-suffix="" data-rustdoc-version="1.87.0 (17067e9ac 2025-05-09)" data-channel="1.87.0" data-search-js="search-e7298875.js" data-settings-js="settings-d72f25bb.js" ><script src="../static.files/storage-82c7156e.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-fb8c74a8.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="icon" href="https://raw.githubusercontent.com/meilisearch/heed/main/assets/heed-pigeon.ico?raw=true"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../heed/index.html"><img src="https://raw.githubusercontent.com/meilisearch/heed/main/assets/heed-pigeon-logo.png?raw=true" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../heed/index.html"><img src="https://raw.githubusercontent.com/meilisearch/heed/main/assets/heed-pigeon-logo.png?raw=true" alt="logo"></a><h2><a href="../heed/index.html">heed</a><span class="version">0.20.5</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#examples" title="Examples">Examples</a></li></ul><h3><a href="#reexports">Crate Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>heed</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/heed/lib.rs.html#1-239">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p><code>heed</code> is a high-level wrapper of <a href="https://en.wikipedia.org/wiki/Lightning_Memory-Mapped_Database">LMDB</a>.</p>
<p>The <a href="cookbook/index.html" title="mod heed::cookbook">cookbook</a> will give you a variety of complete Rust programs to use with heed.</p>
<hr />
<p>This crate simply facilitates the use of LMDB by providing a mechanism to store and
retrieve Rust types. It abstracts away some of the complexities of the raw LMDB usage
while retaining its performance characteristics. The functionality is achieved with the help
of the serde library for data serialization concerns.</p>
<p>LMDB stands for Lightning Memory-Mapped Database, which utilizes memory-mapped files
for efficient data storage and retrieval by mapping file content directly into the virtual
address space. <code>heed</code> derives its efficiency from the underlying LMDB without imposing
additional runtime costs.</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<p>Open a database that will support some typed key/data and ensure, at compile time,
that you’ll write those types and not others.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::fs;
<span class="kw">use </span>std::path::Path;
<span class="kw">use </span>heed::{EnvOpenOptions, Database};
<span class="kw">use </span>heed::types::<span class="kw-2">*</span>;

<span class="kw">let </span>dir = tempfile::tempdir()<span class="question-mark">?</span>;
<span class="kw">let </span>env = <span class="kw">unsafe </span>{ EnvOpenOptions::new().open(dir.path())<span class="question-mark">? </span>};

<span class="comment">// we will open the default unnamed database
</span><span class="kw">let </span><span class="kw-2">mut </span>wtxn = env.write_txn()<span class="question-mark">?</span>;
<span class="kw">let </span>db: Database&lt;Str, U32&lt;byteorder::NativeEndian&gt;&gt; = env.create_database(<span class="kw-2">&amp;mut </span>wtxn, <span class="prelude-val">None</span>)<span class="question-mark">?</span>;

<span class="comment">// opening a write transaction
</span>db.put(<span class="kw-2">&amp;mut </span>wtxn, <span class="string">"seven"</span>, <span class="kw-2">&amp;</span><span class="number">7</span>)<span class="question-mark">?</span>;
db.put(<span class="kw-2">&amp;mut </span>wtxn, <span class="string">"zero"</span>, <span class="kw-2">&amp;</span><span class="number">0</span>)<span class="question-mark">?</span>;
db.put(<span class="kw-2">&amp;mut </span>wtxn, <span class="string">"five"</span>, <span class="kw-2">&amp;</span><span class="number">5</span>)<span class="question-mark">?</span>;
db.put(<span class="kw-2">&amp;mut </span>wtxn, <span class="string">"three"</span>, <span class="kw-2">&amp;</span><span class="number">3</span>)<span class="question-mark">?</span>;
wtxn.commit()<span class="question-mark">?</span>;

<span class="comment">// opening a read transaction
// to check if those values are now available
</span><span class="kw">let </span><span class="kw-2">mut </span>rtxn = env.read_txn()<span class="question-mark">?</span>;

<span class="kw">let </span>ret = db.get(<span class="kw-2">&amp;</span>rtxn, <span class="string">"zero"</span>)<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>(ret, <span class="prelude-val">Some</span>(<span class="number">0</span>));

<span class="kw">let </span>ret = db.get(<span class="kw-2">&amp;</span>rtxn, <span class="string">"five"</span>)<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>(ret, <span class="prelude-val">Some</span>(<span class="number">5</span>));</code></pre></div>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><dl class="item-table reexports"><dt id="reexport.byteorder"><code>pub use <a class="mod" href="../byteorder/index.html" title="mod byteorder">byteorder</a>;</code></dt><dt id="reexport.types"><code>pub use <a class="mod" href="../heed_types/index.html" title="mod heed_types">heed_types</a> as types;</code></dt></dl><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="cookbook/index.html" title="mod heed::cookbook">cookbook</a></dt><dd>A cookbook of examples on how to use heed. Here is the list of the different topics you can learn about:</dd><dt><a class="mod" href="iteration_method/index.html" title="mod heed::iteration_method">iteration_<wbr>method</a></dt><dd>The set of possible iteration methods for the different iterators.</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Database.html" title="struct heed::Database">Database</a></dt><dd>A typed database that accepts only the types it was created with.</dd><dt><a class="struct" href="struct.DatabaseFlags.html" title="struct heed::DatabaseFlags">Database<wbr>Flags</a></dt><dd>LMDB database flags (see <a href="http://www.lmdb.tech/doc/group__mdb__dbi__open.html">http://www.lmdb.tech/doc/group__mdb__dbi__open.html</a> for more details).</dd><dt><a class="struct" href="struct.DatabaseOpenOptions.html" title="struct heed::DatabaseOpenOptions">Database<wbr>Open<wbr>Options</a></dt><dd>Options and flags which can be used to configure how a <a href="struct.Database.html" title="struct heed::Database"><code>Database</code></a> is opened.</dd><dt><a class="struct" href="struct.DatabaseStat.html" title="struct heed::DatabaseStat">Database<wbr>Stat</a></dt><dd>Statistics for a database in the environment.</dd><dt><a class="struct" href="struct.Env.html" title="struct heed::Env">Env</a></dt><dd>An environment handle constructed by using <a href="struct.EnvOpenOptions.html" title="struct heed::EnvOpenOptions"><code>EnvOpenOptions</code></a>.</dd><dt><a class="struct" href="struct.EnvClosingEvent.html" title="struct heed::EnvClosingEvent">EnvClosing<wbr>Event</a></dt><dd>A structure that can be used to wait for the closing event.
Multiple threads can wait on this event.</dd><dt><a class="struct" href="struct.EnvFlags.html" title="struct heed::EnvFlags">EnvFlags</a></dt><dd>LMDB environment flags (see <a href="http://www.lmdb.tech/doc/group__mdb__env.html">http://www.lmdb.tech/doc/group__mdb__env.html</a> for more details).</dd><dt><a class="struct" href="struct.EnvInfo.html" title="struct heed::EnvInfo">EnvInfo</a></dt><dd>Contains information about the environment.</dd><dt><a class="struct" href="struct.EnvOpenOptions.html" title="struct heed::EnvOpenOptions">EnvOpen<wbr>Options</a></dt><dd>Options and flags which can be used to configure how an environment is opened.</dd><dt><a class="struct" href="struct.LmdbVersion.html" title="struct heed::LmdbVersion">Lmdb<wbr>Version</a></dt><dd>The underlying LMDB library version information.</dd><dt><a class="struct" href="struct.PutFlags.html" title="struct heed::PutFlags">PutFlags</a></dt><dd>LMDB put flags (see <a href="http://www.lmdb.tech/doc/group__mdb.html#ga4fa8573d9236d54687c61827ebf8cac0">http://www.lmdb.tech/doc/group__mdb.html#ga4fa8573d9236d54687c61827ebf8cac0</a>
or <a href="http://www.lmdb.tech/doc/group__mdb.html#ga1f83ccb40011837ff37cc32be01ad91e">http://www.lmdb.tech/doc/group__mdb.html#ga1f83ccb40011837ff37cc32be01ad91e</a> for more details).</dd><dt><a class="struct" href="struct.ReservedSpace.html" title="struct heed::ReservedSpace">Reserved<wbr>Space</a></dt><dd>A structure that is used to improve the write speed in LMDB.</dd><dt><a class="struct" href="struct.RoIter.html" title="struct heed::RoIter">RoIter</a></dt><dd>A read-only iterator structure.</dd><dt><a class="struct" href="struct.RoPrefix.html" title="struct heed::RoPrefix">RoPrefix</a></dt><dd>A read-only prefix iterator structure.</dd><dt><a class="struct" href="struct.RoRange.html" title="struct heed::RoRange">RoRange</a></dt><dd>A read-only range iterator structure.</dd><dt><a class="struct" href="struct.RoRevIter.html" title="struct heed::RoRevIter">RoRev<wbr>Iter</a></dt><dd>A reverse read-only iterator structure.</dd><dt><a class="struct" href="struct.RoRevPrefix.html" title="struct heed::RoRevPrefix">RoRev<wbr>Prefix</a></dt><dd>A reverse read-only prefix iterator structure.</dd><dt><a class="struct" href="struct.RoRevRange.html" title="struct heed::RoRevRange">RoRev<wbr>Range</a></dt><dd>A reverse read-only range iterator structure.</dd><dt><a class="struct" href="struct.RoTxn.html" title="struct heed::RoTxn">RoTxn</a></dt><dd>A read-only transaction.</dd><dt><a class="struct" href="struct.RwIter.html" title="struct heed::RwIter">RwIter</a></dt><dd>A read-write iterator structure.</dd><dt><a class="struct" href="struct.RwPrefix.html" title="struct heed::RwPrefix">RwPrefix</a></dt><dd>A read-write prefix iterator structure.</dd><dt><a class="struct" href="struct.RwRange.html" title="struct heed::RwRange">RwRange</a></dt><dd>A read-write range iterator structure.</dd><dt><a class="struct" href="struct.RwRevIter.html" title="struct heed::RwRevIter">RwRev<wbr>Iter</a></dt><dd>A reverse read-write iterator structure.</dd><dt><a class="struct" href="struct.RwRevPrefix.html" title="struct heed::RwRevPrefix">RwRev<wbr>Prefix</a></dt><dd>A reverse read-write prefix iterator structure.</dd><dt><a class="struct" href="struct.RwRevRange.html" title="struct heed::RwRevRange">RwRev<wbr>Range</a></dt><dd>A reverse read-write range iterator structure.</dd><dt><a class="struct" href="struct.RwTxn.html" title="struct heed::RwTxn">RwTxn</a></dt><dd>A read-write transaction.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.CompactionOption.html" title="enum heed::CompactionOption">Compaction<wbr>Option</a></dt><dd>Whether to perform compaction while copying an environment.</dd><dt><a class="enum" href="enum.DefaultComparator.html" title="enum heed::DefaultComparator">Default<wbr>Comparator</a></dt><dd>A representation of LMDB’s default comparator behavior.</dd><dt><a class="enum" href="enum.Error.html" title="enum heed::Error">Error</a></dt><dd>An error that encapsulates all possible errors in this crate.</dd><dt><a class="enum" href="enum.FlagSetMode.html" title="enum heed::FlagSetMode">Flag<wbr>SetMode</a></dt><dd>Whether to enable or disable flags in <a href="struct.Env.html#method.set_flags" title="method heed::Env::set_flags"><code>Env::set_flags</code></a>.</dd><dt><a class="enum" href="enum.MdbError.html" title="enum heed::MdbError">MdbError</a></dt><dd>An LMDB error kind.</dd><dt><a class="enum" href="enum.Unspecified.html" title="enum heed::Unspecified">Unspecified</a></dt><dd>An unspecified type.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.BytesDecode.html" title="trait heed::BytesDecode">Bytes<wbr>Decode</a></dt><dd>A trait that represents a decoding structure.</dd><dt><a class="trait" href="trait.BytesEncode.html" title="trait heed::BytesEncode">Bytes<wbr>Encode</a></dt><dd>A trait that represents an encoding structure.</dd><dt><a class="trait" href="trait.Comparator.html" title="trait heed::Comparator">Comparator</a></dt><dd>Define a custom key comparison function for a database.</dd><dt><a class="trait" href="trait.LexicographicComparator.html" title="trait heed::LexicographicComparator">Lexicographic<wbr>Comparator</a></dt><dd>Define a lexicographic comparator, which is a special case of <a href="trait.Comparator.html" title="trait heed::Comparator"><code>Comparator</code></a>.</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.env_closing_event.html" title="fn heed::env_closing_event">env_<wbr>closing_<wbr>event</a></dt><dd>Returns a struct that allows to wait for the effective closing of an environment.</dd><dt><a class="fn" href="fn.lmdb_version.html" title="fn heed::lmdb_version">lmdb_<wbr>version</a></dt><dd>Return the LMDB library version information.</dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><dl class="item-table"><dt><a class="type" href="type.BoxedError.html" title="type heed::BoxedError">Boxed<wbr>Error</a></dt><dd>A boxed <code>Send + Sync + 'static</code> error.</dd><dt><a class="type" href="type.Result.html" title="type heed::Result">Result</a></dt><dd>Either a success or an <a href="enum.Error.html" title="enum heed::Error"><code>Error</code></a>.</dd></dl></section></div></main></body></html>