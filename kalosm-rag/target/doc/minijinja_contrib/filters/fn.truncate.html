<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Returns a truncated copy of the string."><title>truncate in minijinja_contrib::filters - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-916cea96.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="minijinja_contrib" data-themes="" data-resource-suffix="" data-rustdoc-version="1.87.0 (17067e9ac 2025-05-09)" data-channel="1.87.0" data-search-js="search-e7298875.js" data-settings-js="settings-d72f25bb.js" ><script src="../../static.files/storage-82c7156e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-fb8c74a8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../minijinja_contrib/index.html">minijinja_<wbr>contrib</a><span class="version">2.10.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">truncate</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#example-with-all-attributes" title="Example with all attributes">Example with all attributes</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In minijinja_<wbr>contrib::<wbr>filters</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">minijinja_contrib</a>::<wbr><a href="index.html">filters</a></div><h1>Function <span class="fn">truncate</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/minijinja_contrib/filters/mod.rs.html#175-225">Source</a> </span></div><pre class="rust item-decl"><code>pub fn truncate(
    state: &amp;<a class="struct" href="../../minijinja/vm/state/struct.State.html" title="struct minijinja::vm::state::State">State</a>&lt;'_, '_&gt;,
    value: &amp;<a class="struct" href="../../minijinja/value/struct.Value.html" title="struct minijinja::value::Value">Value</a>,
    kwargs: <a class="struct" href="../../minijinja/value/argtypes/struct.Kwargs.html" title="struct minijinja::value::argtypes::Kwargs">Kwargs</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="../../minijinja/error/struct.Error.html" title="struct minijinja::error::Error">Error</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Returns a truncated copy of the string.</p>
<p>The string will be truncated to the specified length, with an ellipsis
appended if truncation occurs. By default, the filter tries to preserve
whole words.</p>
<div class="example-wrap"><pre class="language-jinja"><code>{{ &quot;Hello World&quot;|truncate(length=5) }}</code></pre></div>
<p>The filter accepts a few keyword arguments:</p>
<ul>
<li><code>length</code>: maximum length of the output string (defaults to 255)</li>
<li><code>killwords</code>: set to <code>true</code> if you want to cut text exactly at length; if <code>false</code>,
the filter will preserve last word (defaults to <code>false</code>)</li>
<li><code>end</code>: if you want a specific ellipsis sign you can specify it (defaults to “…”)</li>
<li><code>leeway</code>: determines the tolerance margin before truncation occurs (defaults to 5)</li>
</ul>
<p>The truncation only occurs if the string length exceeds both the specified
length and the leeway margin combined. This means that if a string is just
slightly longer than the target length (within the leeway value), it will
be left unmodified.</p>
<p>When <code>killwords</code> is set to false (default behavior), the function ensures
that words remain intact by finding the last complete word that fits within
the length limit. This prevents words from being cut in the middle and
maintains text readability.</p>
<p>The specified length parameter is inclusive of the end string (ellipsis).
For example, with a length of 5 and the default ellipsis “…”, only 2
characters from the original string will be preserved.</p>
<h2 id="example-with-all-attributes"><a class="doc-anchor" href="#example-with-all-attributes">§</a>Example with all attributes</h2><div class="example-wrap"><pre class="language-jinja"><code>{{ &quot;Hello World&quot;|truncate(
    length=5,
    killwords=true,
    end=&#39;...&#39;,
    leeway=2
) }}</code></pre></div></div></details></section></div></main></body></html>